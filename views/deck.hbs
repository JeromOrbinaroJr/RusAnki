<style>
.container {
    max-width: 90%;
    margin: 0 auto;
}

.flashcard {
    perspective: 1000px;
    display: inline-block;
    width: 400px;
    height: 300px;
    margin: 20px 0;
}

.flashcard-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.8s;
    transform-style: preserve-3d;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.flashcard.flipped .flashcard-inner {
    transform: rotateY(180deg);
}

.flashcard-front, .flashcard-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
    font-size: 1.5rem;
}

.flashcard-front {
    background-color: #fff;
}

.flashcard-back {
    background-color: #f1f1f1;
    transform: rotateY(180deg);
}

button {
    margin-top: 20px;
}

.hidden {
    display: none;
}
</style>

<h1>{{ title }}</h1>

<div class="container">
    <div id="flashcardContainer">
        {{#each deck.cards}}
            <div class="flashcard {{#unless @first}}hidden{{/unless}}">
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        <p>{{ this.question }}</p>
                    </div>
                    <div class="flashcard-back">
                        <p>{{ this.answer }}</p>
                    </div>
                </div>
            </div>
        {{/each}}
    </div>

    <div>
        <button id="prevCardButton" class="btn">Предыдущая</button>
        <button id="nextCardButton" class="btn">Следующая</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const flashcards = document.querySelectorAll('.flashcard');
        let currentCardIndex = 0;

        function showCard(index) {
            flashcards.forEach((card, i) => {
                card.classList.toggle('hidden', i !== index);
            });
        }

        document.querySelectorAll('.flashcard').forEach(card => {
            card.addEventListener('click', function() {
                card.classList.toggle('flipped');
            });
        });

        document.getElementById('prevCardButton').addEventListener('click', function() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                showCard(currentCardIndex);
            }
        });

        document.getElementById('nextCardButton').addEventListener('click', function() {
            if (currentCardIndex < flashcards.length - 1) {
                currentCardIndex++;
                showCard(currentCardIndex);
            }
        });

        showCard(currentCardIndex);
    });
</script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
